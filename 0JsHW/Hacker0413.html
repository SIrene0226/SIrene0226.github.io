<!doctype html>
<html lang="en">
    <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>Remake Apple</title>

    <style>
        .container{
            display: flex;
            justify-content: center;
        }
        .btn-group .btn{
            margin: 15px;
        }
        .container .box{
            flex-grow: 1;
        }
        .active{
            outline: 5px solid rgba(114, 113, 113, 0.658);
        }
        .check:checked ~ label{
            outline: 5px solid rgba(114, 113, 113, 0.658);
        }
    </style>
    </head>
    <body>
        
    <div class="container header">
        <div class="btn-group">
            <button class="btn btn-secondary" id="iphone" value="IPhone">IPhone</button>
            <button class="btn btn-secondary" id="ipad" value="IPad">IPad</button>
            <button class="btn btn-secondary" id="mac" value="Mac">Mac</button>
        </div>
    </div>
    <div class="container">
        <div class="box w-50" id="img">
            <img id="productImg" alt="" style="width: 100%;;padding: 30px 20px;">
            <!-- src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-white-select-2019?wid=940&hei=1112&fmt=png-alpha&qlt=80&.v=1566956148115" -->
        </div>
        <div class="box w-50" id="info">
            <!-- <div class="color">
                <h2>選擇顏色</h2>
                <div class="col-group d-flex flex-wrap">
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <div style="width: 40px;height: 40px; background-color: antiquewhite;" class="white rounded-pill mx-auto mb-1"></div>
                        <p>白色</p>
                    </button>
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <div style="width: 40px;height: 40px;" class="black rounded-pill bg-dark mx-auto mb-1"></div>
                        <p>黑色</p>
                    </button>
                    <button class="green w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <div style="width: 40px;height: 40px; background-color: aquamarine;" class="white rounded-pill mx-auto mb-1"></div>
                        <p>綠色</p>
                    </button>
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <div style="width: 40px;height: 40px;" class="yellow rounded-pill mx-auto mb-1 bg-warning"></div>
                        <p>黃色</p>
                    </button>
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <div style="width: 40px;height: 40px;background-color: rgb(148, 100, 237);" class="purple rounded-pill mx-auto mb-1"></div>
                        <p>紫色</p>
                    </button>
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <div style="width: 40px;height: 40px;" class="white rounded-pill mx-auto mb-1 bg-danger"></div>
                        <p>(PRODUCT)RED</p>
                    </button>
                </div>
            </div> -->
            <!-- <div class="storage">
                <h3>選擇儲存容量。</h3>
                <div class=" col-group d-flex flex-wrap">
                    <button id="btn" class="w-25 pt-3 bg-transparent me-3 mb-3  " style="height: 100px;">
                        <p><span>64</span>GB**</p>
                        <p>NT$19,900</p>
                    </button>
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <p><span>128</span>GB**</p>
                        <p>NT$21,500</p>
                    </button>
                    <button class="w-25 pt-3 bg-transparent me-3 mb-3" style="height: 100px;">
                        <p><span>256</span>GB**</p>
                        <p>NT$25,000</p>
                    </button>
                </div>
            </div>
            <p id="price">$$$</p> -->
            <!-- <form action="">
                    
                    <label for="btn1" style="width:80px;height: 90px;border: 1px solid grey; padding: 5px 10px;">
                        <input type="radio" name="c" id="btn1" style="visibility: visible;position: fixed;z-index: -1;"></input>
                        <div style="width: 40px;height: 40px;" class="yellow rounded-pill mx-auto mb-1 bg-warning"></div>
                        <p>黃色</p>
                    </label>
                <div class="box">
                    <input type="radio" name="c" id="btn" style="visibility: hidden;position: fixed;z-index: -1;"></input>
                    <label for="btn">
                        <div style="width: 40px;height: 40px;" class="yellow rounded-pill mx-auto mb-1 bg-warning"></div>
                        <p>Red</p>
                    </label>
                </div>
            </form>
            <form action="">
                <div class="box">
                    <input type="radio" name="a" id="mm" style="visibility: hidden;position: fixed;z-index: -1;"></input>
                    <label for="mm" style="width:80px;height: 90px;border: 1px solid grey; padding: 5px 10px;">
                        <div style="width: 40px;height: 40px;" class="yellow rounded-pill mx-auto mb-1 bg-warning"></div>
                        <p>12</p>
                    </label>
                </div>
                <div class="box">
                    <input type="radio" name="a" id="nn" style="visibility: hidden;position: fixed;z-index: -1;"></input>
                    <label for="nn">
                        <div style="width: 40px;height: 40px;" class="yellow rounded-pill mx-auto mb-1 bg-warning"></div>
                        <p>34</p>
                    </label>
                </div>
            </form> -->
        </div>
    </div>
    <!-- 刻好畫面後要做動態：注意點：1. 做到多選的功能好像input：radio才做到 btn可能要大改 -->

    <!-- Optional JavaScript; choose one of the two! -->
    <script>
        var Product={
            Iphone:{
                Detail:{
                    productName:'iPhone 11',
                    baseImgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-select-2019-family?wid=441&amp;hei=529&amp;fmt=jpeg&amp;qlt=95&amp;.v=1567022175704'
                },
                Case:[
                    {color:'白色',colorValue:'#F9F6EF',imgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-white-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566956148115'},
                    {color:'黑色',colorValue:'#1F2120',imgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-black-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566956144418'},
                    {color:'綠色',colorValue:'#ADE0CD',imgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-green-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566956144838'},
                    {color:'黃色',colorValue:'#FFE681',imgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-yellow-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1568141245782'},
                    {color:'紫色',colorValue:'#D1CDDB',imgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-purple-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566960958082'},
                    {color:'紅色',colorValue:'#BA0C2F',imgUrl:'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/iphone11-red-select-2019?wid=470&hei=556&fmt=png-alpha&.v=1566956144763'},
                ],
                Storage:[
                    {size:'64',price:'19900'},
                    {size:'128',price:'21500'},
                    {size:'256',price:'25000'}
                ]
            },
            // IPad:{},
            // Mac:{}
        }

        let btnPhone=document.getElementById("iphone");
        btnPhone.addEventListener("click",function(){
            var productImg = document.getElementById("productImg");
            productImg.setAttribute('src',`${Product.Iphone.Detail.baseImgUrl}`);

            let info = document.getElementById("info");
            info.innerHTML=`<h1>購買 ${Product.Iphone.Detail.productName}</h1><br>`;

            info.innerHTML+=`<h3>選擇外觀。</h3>`;
            
            //let form = document.createElement("form");
            Product.Iphone.Case.forEach((item, index)=>{
                let btnC = document.createElement("label");

                btnC.setAttribute('class','color-label w-25 pt-3 bg-transparent me-3 mb-3');
                btnC.setAttribute('style','height: 100px;border: 1px solid grey');

                let input = document.createElement("input");
                input.setAttribute('type','radio');
                input.setAttribute('name','color');
                input.setAttribute('style','visibility: visibled;position: fixed; z-index: 2;');

                let circle = document.createElement("div");
                circle.setAttribute('class','rounded-pill mx-auto mb-1');
                circle.setAttribute('style',`width: 40px;height: 40px;background-color: ${item.colorValue};`);
                
                let btn_name = document.createElement("p");
                btn_name.setAttribute('style','text-align: center;');
                btn_name.innerText = item.color;

                // btnC.appendChild(input);
                btnC.appendChild(circle);
                btnC.appendChild(btn_name);
                // btnC.setAttribute('onclick',`Click("${item.imgUrl}")`);
                btnC.addEventListener('click',function(){
                    Array.from(document.getElementsByClassName('color-label')).forEach(x => {
                        x.classList.remove('active');
                    });
                    btnC.classList.add('active');
                    productImg.setAttribute('src',`${item.imgUrl}`);
                });
                
                info.appendChild(btnC);
            });

            // let check = document.querySelector('[name=color]:checked').parentNode;
            // debugger;
            // info.appendChild(form);
            // info.innerHTML+=`<div style="width:80%;height:1px;background-color:grey;"></div><br>`;

            info.innerHTML+=`<h3>選擇儲存容量。</h3>`;
            Product.Iphone.Storage.forEach((item, index)=>{
                let btnS=document.createElement("div");
                btnS.setAttribute('class','Mybtn w-25 pt-3 bg-transparent me-3 mb-3');
                btnS.setAttribute('style','height: 100px; border: 1px solid grey;');

                let gbBtn=document.createElement("p");
                gbBtn.setAttribute('style','text-align: center;');
                gbBtn.innerText=`${item.size}GB**`;

                let stor_pri=document.createElement("p");
                stor_pri.setAttribute('style','text-align: center;');
                stor_pri.innerText=`NT$${item.price}`;

                btnS.appendChild(gbBtn);
                btnS.appendChild(stor_pri);

                btnS.addEventListener('click',function(){
                    final_pri.innerText=`NT$${item.price}`;
                });
                info.appendChild(btnS);
            });

            let final_pri=document.createElement("p");
            final_pri.setAttribute('style','font-size:50px');
            info.appendChild(final_pri);

            
        });
    </script>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>
</html>